<!DOCTYPE html>
<html>
	<head>
	<meta charset="utf-8">
	<title>Sand Table</title>
	<meta name="viewport" content="width=device-width,initial-scale=1">
	<script type="text/javascript">function bodyIsLoaded(){window.stState={defaultTableSizeMM:370,curPage:"",curFileContentJson:"",nonServerHostWarn:""===location.hostname,fileExcludes:["ROBOT.JSON"],latestFileListInfo:{},curFileType:"param",newFileType:"param",fileSystemBasePath:"",lastStatusRxTime:new Date,statusUpdateCheckMs:2e3,statusUpdateTooLateMs:15e3,maxIterationsInEval:500,maxIterationsInTotal:1e5,patternEvalIntervalMs:100,tableCanvasPtIsValid:!1,fileTypes:[["param","Parametric"],["gcode","G-Code"],["thr","Theta-Rho"],["seq","Sequence"]],fileTypeLookup:{},paramNewJson:{setup:"t=0\nR=sizeX/2\n",loop:"x=R*sin(t)\ny=R*cos(t)\nR=R-0.3\nt=t+0.1\nstop=R<20\n"},thrNewContent:"0 0\n62.8 1",canvasBorder:10,canvasSize:200,thrMaxThetaInc:Math.PI/64},window.pageState={maxCfgLen:2e3,name:"Sand Table",startup:""};var e,t=window.stState.fileTypes;for(let e=0;e<t.length;e++)window.stState.fileTypeLookup[t[e][0]]=t[e][1];window.stState.nonServerHostWarn?(window.pageState.name="Sand Table - I must run on a server!",sandTableSettingsCallbackOk(JSON.stringify(window.pageState))):(window.EventSource&&((e=new EventSource("/events")).addEventListener("open",function(e){console.log("Async events connected")},!1),e.addEventListener("error",function(e){e.target.readyState!=EventSource.OPEN&&console.log("Events Disconnected")},!1),e.addEventListener("status",function(e){console.log("status",e.data);try{var t=JSON.parse(e.data),a=(document.getElementById("status-connected").classList.add("nodisplay"),window.stState.lastStatusRxTime=new Date,document.getElementById("status-paused"));0==t.pause?a.classList.add("nodisplay"):a.classList.remove("nodisplay")}catch(e){console.error("Failed to parse status JSON")}},!1)),reqFileListAndUpdate(),setInterval(statusUpdateTimerHandler,window.stState.statusUpdateCheckMs),window.addEventListener("resize",resizeEventHandler))}function statusUpdateTimerHandler(){new Date-window.stState.lastStatusRxTime>window.stState.statusUpdateTooLateMs&&document.getElementById("status-connected").classList.remove("nodisplay")}function resizeEventHandler(){setCanvasShapeAndSize()}function reqFileListAndUpdate(){callAjax("/filelist/",fileListUpdateOk,fileListUpdateFail)}function fileListUpdateFail(){reqSettingsAndUpdate()}function fileListUpdateOk(e){try{window.stState.latestFileListInfo=JSON.parse(e),window.stState.fileSystemBasePath=window.stState.latestFileListInfo.fsBase}catch(e){console.error("Failed to parse received JSON file list"),console.error(e)}reqSettingsAndUpdate()}function reqSettingsAndUpdate(){callAjax("/getsettings",sandTableSettingsCallbackOk)}function sandTableSettingsCallbackOk(e){if(""!==e&&"{}"!==e){var t;try{t=JSON.parse(e),window.pageState=t}catch(e){console.error("Failed to parse JSON settings "+json),console.error(e)}}updateDisplay()}function updateDisplay(){genPageHeader(),genPageBody(),iconGen("logoCanvas")}function userAction(e,t,a,n){if("delete"===t)confirm("Are you sure you want to delete?")&&(callAjax("/deleteFile"+window.stState.fileSystemBasePath+"/"+a,fileDeleteOk,fileDeleteFail),window.stState.curPage="",reqFileListAndUpdate());else if("save"===t){var o=document.getElementById("fileNameNoExtension");let n="";if(0!==(n=(n=(n=(n=("patEdit"===window.stState.curPage.trim()?o.innerHTML:o.value).trim()).replace('"',"")).replace("\\","")).replace("?","")).trim().length){let e="";e="param"===window.stState.curFileType?(o=document.getElementById("patsetup").value,i=document.getElementById("patloop").value,JSON.stringify({setup:o,loop:i})):document.getElementById("textcontents").value;var o=new FormData,i=new Blob([e],{type:"plain/text"});o.append("file",i,n+"."+window.stState.curFileType);let t=new XMLHttpRequest,a=fileSaveFail;t.onreadystatechange=function(){4===t.readyState&&(200===t.status?(console.log("Save response "+t.responseText),window.stState.curPage="",userActionSaveFileOk()):void 0!==a&&void 0!==a&&(console.log("Save failed "+t.responseText),window.stState.curPage="",userActionSaveFileFail()))},t.open("POST","/uploadtofileman"),t.send(o)}}else"cancel"===t?(window.stState.curPage="",updateDisplay()):"add"===t?("file"===e&&(window.stState.curPage="patAdd"),window.stState.curItem="",window.stState.curFileContentJson="",window.stState.curFileType=window.stState.newFileType,updateDisplay()):"edit"===t?(window.stState.curItem=a,callAjax("/files"+window.stState.fileSystemBasePath+"/"+a,fileReadToEdit)):"run"===t?callAjax("/playFile"+window.stState.fileSystemBasePath+"/"+a,ajaxDefaultCallback):"runAtStart"===t&&(window.pageState.startup=n?"":a,postSettings())}function fileDeleteOk(){console.log("Deleted file ok"),reqFileListAndUpdate()}function fileDeleteFail(){console.log("Delete file failed"),reqFileListAndUpdate()}function fileSaveFail(){console.log("Save file failed"),reqFileListAndUpdate()}function postSettings(){let e=JSON.stringify(window.pageState);e=e.replace("\n","\\n"),console.log("POSTING "+e),postJson("/postsettings",e,postSettingsOkCallback,postSettingsFailCallback)}function postSettingsOkCallback(){console.log("Posted settings ok"),updateDisplay()}function postSettingsFailCallback(){console.log("Post settings FAILED"),updateDisplay()}function userActionSaveFileOk(){reqFileListAndUpdate()}function userActionSaveFileFail(){reqFileListAndUpdate()}function genButton(e,t,a,n,o,i,s,l){let r="";return e=e.replace("~key~",t),r+="<span class='"+i+" btn' onclick='"+e+"' "+(l?"":"disabled")+">","Edit"===o?r+='<svg class="icon-action"><use xlink:href="#ico-edit"></use></svg>':"Run"===o?r+='<svg class="icon-action"><use xlink:href="#ico-play"></use></svg>':"Add"===o?r+='<svg class="icon-action"><use xlink:href="#ico-add"></use></svg>':"RunAtStart"===o?r+='<svg class="icon-action"><use xlink:href="#ico-run-at-start" style="fill:'+(s?"#407ea6":"#fafcee")+'"></use></svg>':"Play-Pause"===o?r+='<svg class="icon-toolbar"><use xlink:href="#ico-playpause"></use></svg>':"Pause"===o?r+='<svg class="icon-toolbar"><use xlink:href="#ico-pause"></use></svg>':"Stop"===o?r+='<svg class="icon-toolbar"><use xlink:href="#ico-stop"></use></svg>':"Home"===o?r+='<svg class="icon-toolbar"><use xlink:href="#ico-centre"></use></svg>':"Simulate"===o&&(r+='<svg class="icon-inline"><use xlink:href="#ico-spiral-out"></use></svg>'),0<a.length&&(r+=a),r+="</span>"}function genAjaxButton(e,t,a,n,o,i){return genButton('callAjax("'+e+'",ajaxDefaultCallback)',t,a,n,o,i,!1,!0)}function genPageHeader(){var e=window.pageState,t=document.getElementById("pageHeader"),a="<div class='page-header backHead'>",a=(a=(a+="<div class='page-header-logo'>")+('<canvas id="logoCanvas" class="page-logo backHead" width="'+logoCanvasWidth+'" height="'+logoCanvasHeight+'">Oops</canvas>')+"</div>")+"<div class='page-header-text'>"+e.name;t.innerHTML=a=a+"</div>"+"</div>"}function genBodyHeadingSection(){var e="<div class='body-controls'>";return e+"<div class='body-part-buttons backGrad1'>"+"<div class='body-commands'>"+("<div class='body-commands-item'>"+genAjaxButton("/exec/g28","","","Home the robot","Home","body-commands-button")+"</div>")+("<div class='body-commands-item'>"+genAjaxButton("/exec/playpause","","","Toggle play/pause","Play-Pause","body-commands-button")+"</div>")+("<div class='body-commands-item'>"+genAjaxButton("/exec/stop","","","Stop","Stop","body-commands-button")+"</div>")+"</div>"+"</div>"+"<div class='body-sep'>"+"</div>"+"<div class='body-part-status backGrad1'>"+"<div class='body-commands'>"+"<div class='body-status-box'>"+"<div id='status-connected' class='nodisplay'><svg class='icon-toolbar'><use xlink:href='#ico-broken'></use></svg></div>"+"</div>"+"<div class='body-status-box'>"+"<div id='status-paused' class='nodisplay'><svg class='icon-toolbar icon-red'><use xlink:href='#ico-pause'></use></svg></div>"+"</div>"+"</div>"+"</div>"+"</div>"}function genPatternsBody(){var e="<div class='body-group backGrad2'>";return(e+="<div class='body-group-header'><span>Patterns</span>")+"<div class='body-group-actions'>"+'<progress id="progress-bar-file-manager" class="body-group-button hidden" max=100 value=0></progress>'+genButton('userAction("file","add","")',"","","New pattern","Add","body-group-button",!1,!0)+"</div>"+"</div>"+"<div class='body-list drop-zone' id='patternsList'>"+"</div>"+"</div>"}function genHomePageBody(){var e=document.getElementById("pageBodyHead"),t=genBodyHeadingSection(),e=(e.innerHTML=t,document.getElementById("pageBodyForm")),t=genPatternsBody();e.innerHTML=t}function genOptionStr(e,t,a){return'<option value="'+e+'" '+(a===e?'selected="selected"':"")+">"+t+"</option>"}function genEditPageActions(e,t,a){let n="<div class='body-group'>";if(n+="<div class='body-group-header'>",a){n=n+"<div class='body-group-select select-style'>"+'<select id="fileTypeSelect">';var o=window.stState.fileTypes;for(let e=0;e<o.length;e++)n+=genOptionStr(o[e][0],o[e][1],window.stState.curFileType);n=n+"</select>"+"</div>"}else n+="<div class='body-group-info'>",window.stState.fileTypeLookup.hasOwnProperty(window.stState.curFileType)?n+=window.stState.fileTypeLookup[window.stState.curFileType]:n+=window.stState.curFileType,n=(n+="</div><div class='body-group-actions'>")+genButton('userAction("'+e+'","delete","~key~")',t,"Delete","Delete pattern","Delete","body-group-button",!1,!a)+"</div>";return n=(n=(n=(n=(n+="<div class='body-group-actions'>")+genButton('userAction("'+e+'","save","~key~")',t,"Save","Save pattern","Save","body-group-button",!1,!0))+"</div>"+"<div class='body-group-actions'>")+genButton('userAction("'+e+'","cancel","~key~")',t,"Cancel","Cancel","Cancel","body-group-button",!1,!0))+"</div>"+"</div>"}function setFileType(){var e=document.getElementById("fileTypeSelect");window.stState.curFileType=e.value,window.stState.newFileType=e.value,console.log(window.stState.curFileType),genFileEditForm()}function genFileEditForm(){var e=window.stState.curItem,e=e.substr(0,e.lastIndexOf(".")),t=document.getElementById("pageBodyForm");let a="";if(a=(a=a+"<form class='body-form'>"+"<fieldset class='body-fieldset'>")+"<div class='body-form-line'>"+"<div class='body-form-label'>Name</div>","patEdit"===window.stState.curPage.trim()?a+="<div id='fileNameNoExtension' class='body-form-field'>"+e+"</div>":a+="<input type='text' id='fileNameNoExtension' class='body-form-field'>"+e+"</input>",a+="</div>","param"===window.stState.curFileType){let e={setup:"",loop:""};if(0<window.stState.curFileContentJson.length)try{(e=JSON.parse(window.stState.curFileContentJson)).setup=e.setup.replace(/;/g,"\n"),e.loop=e.loop.replace(/;/g,"\n")}catch(e){console.error("Failed to parse JSON settings "+window.stState.curFileContentJson),console.error(e)}else e=window.stState.paramNewJson;a=(a=(a=(a=a+"<div class='body-form-line'>"+"<div class='body-form-label'>Setup expressions</div>")+("<textarea id='patsetup' oninput='patSetupChange();' class='body-form-field' cols='50' rows='3'>"+e.setup+"</textarea>")+"</div>")+"<div class='body-form-line'>"+"<div class='body-form-label'>Loop expressions</div>")+("<textarea id='patloop' oninput='patLoopChange();' class='body-form-field' cols='50' rows='10'>"+e.loop+"</textarea>")+"</div>"}else if("seq"===window.stState.curFileType)a=(a=(a=(a=(a=(a+="<div class='body-form-line'><div class='body-form-label'>Contents</div>")+"<div class='body-form-2-col'><div class='body-form-col'>")+"<textarea id='textcontents' oninput='fileContentChange()' ondrop='seqContentDrop(event)' ondragover='seqContentAllowDrop(event)' class='body-form-field body-form-textarea' cols='50' rows='10'>"+window.stState.curFileContentJson+"</textarea>")+"</div><div class='body-form-colsep'></div>")+"<div class='body-form-col body-form-field' id='patternsList'></div>")+"</div></div>";else{a=a+"<div class='body-form-line'>"+"<div class='body-form-label'>Contents</div>";let e=window.stState.curFileContentJson;0==window.stState.curFileContentJson.length&&"patAdd"===window.stState.curPage.trim()&&"thr"===window.stState.curFileType&&(e=window.stState.thrNewContent),a=a+("<textarea id='textcontents' oninput='fileContentChange()' class='body-form-field' cols='50' rows='10'>"+e+"</textarea>")+"</div>"}"seq"!==window.stState.curFileType&&(a=(a=(a=(a=(a=(a=(a=(a=(a=(a+="<div class='body-form-line'>")+"<div class='body-form-label'><div class='body-form-label-container'>Validity check")+"</div><div class='body-form-label-container'>")+genButton("patternSimulate()","","Evaluate Now","Evaluate","Simulate","body-form-button",!1,!0))+"</div><label class='body-form-label-checkbox'>Auto Evaluate")+"<input class='body-form-checkbox' type='checkbox' id='auto-evaluate' onclick='autoEvalClicked()' checked></input><span class='body-form-checkmark'></span>")+"</label></div>")+"<textarea readonly id='validity-check' class='body-form-field' cols='50' rows='1'></textarea></div>")+"<div class='body-form-line'><div class='body-form-label'>View</div>")+"<div class='body-view' id='table-view'><canvas id='table-canvas' class='body-canvas'></canvas></div></div>"),a=(a+="</fieldset>")+"</form></div>",t.innerHTML=a,setCanvasShapeAndSize(),"seq"===window.stState.curFileType&&fileListShow(!0,["RepeatMode","NoRepeatMode","ShuffleMode","NoShuffleMode"])}function seqContentAllowDrop(e){e.preventDefault()}function seqContentDrop(e){e=e.dataTransfer.getData("fileName");addToTextarea(document.getElementById("textcontents"),e+"\n")}function addToTextarea(e,t){var a=e.selectionStart,n=e.selectionEnd,o=e.value,i=o.substring(0,a),n=o.substring(n,o.length);e.value=i+t+n,e.selectionStart=e.selectionEnd=a+t.length,e.focus()}function setCanvasShapeAndSize(){var e=document.getElementById("table-view"),t=document.getElementById("table-canvas");e&&t&&(t.width=10,canvasMargin=.03*e.clientWidth,canvasSize=e.clientWidth-2*canvasMargin,t.width=canvasSize,t.height=canvasSize,t.style.marginTop=canvasMargin,t.style.marginBottom=canvasMargin,window.stState.canvasBorder=.02*canvasSize,window.stState.canvasSize=canvasSize-2*window.stState.canvasBorder),patternValidate()}function genFileEditHeading(){var e=document.getElementById("pageBodyHead"),t=genBodyHeadingSection();t+=genEditPageActions("file",window.stState.curItem,"patAdd"===window.stState.curPage.trim()),e.innerHTML=t}function genPageBody(){"patEdit"===window.stState.curPage.trim()||"patAdd"===window.stState.curPage.trim()?(genFileEditHeading(),genFileEditForm(),this.setupSelect(this.setFileType)):(genHomePageBody(),fileListShow(!1))}function itemListShowInEditor(e){var t="";return(t+="<div class='body-list-line body-list-small'>")+"<div class='body-list-draggable'>"+("<span draggable='true' ondragstart='fileItemDragStart(event)'>"+e+"</span>")+"</div>"+"</div>"}function itemListShowMainFileList(e){var t=e.substr(e.lastIndexOf(".")+1).toUpperCase(),a=e.substr(0,e.lastIndexOf("."));let n="";return n=(n=(n=(n=(n=(n=(n=(n+="<div class='body-list-line'>")+genAjaxButton("/playFile/"+e,"",t,"Play file","","body-list-filetype")+"<div class='body-list-item'>")+("JSON"===t?"<span>"+e+"</span>":genAjaxButton("/playFile/"+e,"",a,"Play file","","body-group-button")))+"</div>"+"<div class='body-list-actions'>")+genButton('userAction("file","run","~key~")',e,"","Run pattern","Run","body-group-button",!1,!0))+genButton('userAction("file","runAtStart","~key~",'+(e===window.pageState.startup)+")",e,"","Run at startup","RunAtStart","body-group-button",e===window.pageState.startup,!0))+genButton('userAction("file","edit","~key~")',e,"","Edit pattern","Edit","body-group-button",!1,!0))+"</div>"+"</div>"}function fileListShow(a,t=[]){var e=document.getElementById("patternsList");let n=window.stState.latestFileListInfo.files;n=n||[],listStr="";for(let t=0;t<n.length;t++){let e=n[t].name;e=e.replace("/",""),window.stState.fileExcludes.includes(e.toUpperCase())||(listStr+=(a?itemListShowInEditor:itemListShowMainFileList)(e))}for(let e=0;e<t.length;e++)listStr+=itemListShowInEditor(t[e]);e.innerHTML=listStr,a||(e=document.getElementsByClassName("drop-zone"),Array.from(e).forEach(function(t){["dragenter","dragover","dragleave","drop"].forEach(e=>{t.addEventListener(e,preventDefaults,!1),document.body.addEventListener(e,preventDefaults,!1)}),["dragenter","dragover"].forEach(e=>{t.addEventListener(e,highlight,!1)}),["dragleave","drop"].forEach(e=>{t.addEventListener(e,unhighlight,!1)}),t.addEventListener("drop",handleDrop,!1)}))}function fileItemDragStart(e){e.dataTransfer.setData("fileName",e.target.innerHTML)}function fileReadToEdit(e){window.stState.curPage="patEdit",window.stState.curFileContentJson=e;e=window.stState.curItem,e=e.substr(e.lastIndexOf(".")+1).toLowerCase();window.stState.curFileType=e,updateDisplay()}function preventDefaults(e){e.preventDefault(),e.stopPropagation()}function highlight(e){e=e.currentTarget.id;document.getElementById(e).classList.add("highlight")}function unhighlight(e){e=e.currentTarget.id;document.getElementById(e).classList.remove("highlight")}function handleDrop(e){uploadToFileManager(e.dataTransfer.files)}function uploadToFileManager(e){initializeProgress((e=[...e]).length,"progress-bar-file-manager"),e.forEach(uploadOnlyFile)}function initializeProgress(e,t){t=document.getElementById(t);t.classList.remove("hidden"),t.value=0}function updateProgress(e,t,a){document.getElementById(a).value=t}function uploadOnlyFile(e,t){uploadFileSpecUrl("/uploadtofileman","progress-bar-file-manager",e,t)}function uploadFileSpecUrl(e,t,a,n){var o=new XMLHttpRequest,i=new FormData;o.open("POST",e,!0),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.upload.addEventListener("progress",function(e){updateProgress(n,100*e.loaded/e.total||100,t)}),o.addEventListener("readystatechange",function(e){4===o.readyState&&200===o.status?(updateProgress(n,100,t),reqFileListAndUpdate()):4===o.readyState&&o.status}),i.append("file",a),o.send(i)}function evalInContext(e,t){return new Function("self","window","top","with(this) { return ("+e+")}").call(t)}function objClone(e){if(null==e||"object"!=typeof e)return e;var t,a=e.constructor();for(t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function extractTableSize(e){var t;window.pageState.robotGeom&&window.pageState.robotGeom.axis0&&window.pageState.robotGeom.axis0.maxVal&&window.pageState.robotGeom.axis1&&window.pageState.robotGeom.axis1.maxVal&&window.pageState.robotGeom?"SingleArmScara"===window.pageState.robotGeom?(t=window.pageState.robotGeom.axis0.maxVal+window.pageState.robotGeom.axis1.maxVal,e.sizeX=2*t,e.sizeY=2*t,e.originX=t,e.originY=t):(e.sizeX=window.pageState.robotGeom.axis0.maxVal,e.sizeY=window.pageState.robotGeom.axis1.maxVal,e.originX=0,e.originY=0):(t=window.stState.defaultTableSizeMM,e.sizeX=t,e.sizeY=t,e.originX=t/2,e.originY=t/2)}function parametricShowValidity(e,t){var a=document.getElementById("validity-check");a.innerHTML=e,t?a.classList.add("warning"):a.classList.remove("warning")}function parametricAddMathsToContext(e){e.sin=Math.sin,e.cos=Math.cos,e.tan=Math.tan,e.asin=Math.asin,e.acos=Math.acos,e.atan=Math.atan,e.atan2=Math.atan2,e.sinh=Math.sinh,e.cosh=Math.cosh,e.tanh=Math.tanh,e.asinh=Math.asinh,e.acosh=Math.acosh,e.atanh=Math.atanh,e.abs=Math.abs,e.ceil=Math.ceil,e.floor=Math.floor,e.round=Math.round,e.trunc=Math.trunc,e.sign=Math.sign,e.exp=Math.exp,e.pow=Math.pow,e.sqrt=Math.sqrt,e.e=Math.E,e.log=Math.log10,e.log10=Math.log10,e.log2=Math.log2,e.ln=Math.log,e.pi=Math.PI,e.max=Math.max,e.min=Math.min,e.random=Math.random}function reformatParseResult(e){return e.startsWith("Unexpected token )")?" - expression incomplete":" - "+e}function parametricSetupContext(t,a){if(extractTableSize(t),parametricAddMathsToContext(t),!document.getElementById("patsetup"))return"";var e=document.getElementById("patsetup").value.split(/[\r\n]+/),n=document.getElementById("patloop").value.split(/[\r\n]+/),o=/([a-zA-Z_][a-zA-Z0-9_]*)\s*=[^;=]/;exprList=[e,n];let i=0,s="";try{for(i=0;i<exprList.length;i++){var l=exprList[i];for(let e=0;e<l.length;e++){var r=l[e].match(o);null!==r&&1<r.length&&(t[r[1]]=0,1===i)&&(a[r[1]]=0)}}}catch(e){s="Error in "+(0===i?"Setup":"Loop")+" expression line 1"+reformatParseResult(e.message),console.log("Error processing setup "+e.message)}return s}function parametricEvalSetup(e){var n=document.getElementById("patsetup");if(n){var o=n.value.split(/[\r\n]+/);let t=0,a="";try{for(t=0;t<o.length;t++){var i=o[t].trim();0<i.length&&evalInContext(i,e)}}catch(e){a="Error in Setup expression line "+(t+1)+reformatParseResult(e.message),console.log("Error evaluating setup "+e.message)}return a}}function parametricEvalLoop(e){let n=[];try{var t=document.getElementById("patloop").value;n=t.split(/[\r\n]+/)}catch(e){return console.log("Failed to get patloop - probably exited edit mode"),"No longer in edit mode"}if(0!==n.length){let t=0,a="";try{for(t=0;t<n.length;t++){var o=n[t].trim();0<o.length&&evalInContext(o,e)}}catch(e){a="Error in Loop expression line "+(t+1)+reformatParseResult(e.message),console.log("Error evaluating "+e.message)}return a}}function parametricValidate(){var e={},t={};let a=parametricSetupContext(e,t);0<a.length||0<(a=parametricEvalSetup(e)).length?parametricShowValidity(a,!0):(t.hasOwnProperty("x")||(a+="x"),t.hasOwnProperty("y")||(a+=(0<a.length?", ":"")+"y"),t.hasOwnProperty("stop")||(a+=(0<a.length?" and ":"")+"stop"),0<a.length?parametricShowValidity(a="Loop must set variable(s) "+a,!0):0<(a=parametricEvalLoop(e)).length?parametricShowValidity(a,!0):parametricShowValidity("Passed",!1))}function patternValidate(){if("seq"!==window.stState.curFileType){"param"===window.stState.curFileType&&parametricValidate();try{document.getElementById("auto-evaluate").checked&&patternSimulate()}catch(e){}}}function fileContentChange(){console.log("patsetupchange"),patternValidate()}function patSetupChange(){console.log("patsetupchange"),patternValidate()}function patLoopChange(){console.log("patloopchange"),patternValidate()}function autoEvalClicked(){patternValidate()}function patternSimulate(){"param"===window.stState.curFileType?paramSimulate():"gcode"!==window.stState.curFileType&&"thr"!==window.stState.curFileType||textFileSimulate()}function paramSimulate(){window.stState.parametricContext={};var e=window.stState.parametricContext,t=parametricSetupContext(e,{});0<t.length||e.hasOwnProperty("x")&&e.hasOwnProperty("y")&&e.hasOwnProperty("stop")&&(parametricEvalSetup(e,t),0<t.length||(window.stState.interpIteration=0,tableShowStart(e),paramStep()))}function paramStep(){var t=window.stState.parametricContext;for(let e=0;e<window.stState.maxIterationsInEval;e++){if(0<parametricEvalLoop(t).length)return;if(tableShowNextPoint(t),window.stState.interpIteration++,window.stState.interpIteration>=window.stState.maxIterationsInTotal)return;if(t.stop)return}setTimeout(paramStep,window.stState.patternEvalIntervalMs)}function gcodeEvalService(t){if(t.lines.length<=t.lineIdx)return"done";var a,e=t.lines[t.lineIdx],n=(t.lineIdx++,e.split(" "));if(!n[0].toLowerCase().includes("g0")&&!n[0].toLowerCase().includes("g1"))return"ignore";if(n.length<3)return"ignore";let o=!1,i=!1;for(let e=1;e<n.length;e++)n[e].trim().toLowerCase().startsWith("x")&&(a=parseFloat(n[e].trim().substr(1)),isNaN(a)||(o=!0,t.x=a)),n[e].trim().toLowerCase().startsWith("y")&&(a=parseFloat(n[e].trim().substr(1)),isNaN(a)||(i=!0,t.y=a));return o&&i?"":"invalid"}function thrProcPoint(e,t){if(e.interpolateIdx=0,!e.hasOwnProperty("nextPoint"))return e.nextPoint=t,"ignore";e.prevPoint=e.nextPoint,e.nextPoint=t,e.deltaTheta=e.nextPoint[0]-e.prevPoint[0],e.thetaInc=0<=e.deltaTheta?window.stState.thrMaxThetaInc:-window.stState.thrMaxThetaInc;t=e.nextPoint[1]-e.prevPoint[1];if(Math.abs(e.deltaTheta)<window.stState.thrMaxThetaInc)e.thetaInc=e.deltaTheta,e.interpolateSteps=1,e.rhoInc=t;else{if(e.interpolateSteps=Math.floor(Math.abs(e.deltaTheta)/window.stState.thrMaxThetaInc),e.interpolateSteps<1)return"ignore";e.rhoInc=t*window.stState.thrMaxThetaInc/Math.abs(e.deltaTheta)}return e.curTheta=e.prevPoint[0],e.curRho=e.prevPoint[1],console.log("Theta "+formatFP(e.nextPoint[0],6)+" Rho "+formatFP(e.nextPoint[1],6)+" CurTheta "+formatFP(e.curTheta,6)+" CurRho "+formatFP(e.curRho,6)+" TotalSteps "+e.interpolateSteps+" ThetaInc "+formatFP(e.thetaInc,6)+" RhoInc "+formatFP(e.rhoInc,6)+" AbsDeltaTheta "+formatFP(Math.abs(e.deltaTheta),6)+" StepAng "+formatFP(window.stState.thrMaxThetaInc,6)),thrProcInterp(e)?"":"ignore"}function formatFP(e,t){var a=Math.pow(10,t);return parseFloat(e*a/a).toFixed(t)}function thrProcInterp(e){return!(e.interpolateIdx>=e.interpolateSteps||(e.interpolateIdx++,e.x=e.sizeX/2*e.curRho*Math.sin(e.curTheta),e.y=e.sizeY/2*e.curRho*Math.cos(e.curTheta),e.curRho+=e.rhoInc,e.curTheta+=e.thetaInc,console.log("G0 U"+formatFP(Math.round(e.curTheta),6)+" V"+formatFP(Math.round(e.curRho),6)),0))}function thrEvalService(e){var t,a;return 0!=e.interpolateIdx&&thrProcInterp(e)?"":e.lines.length<=e.lineIdx?"done":(a=e.lines[e.lineIdx],e.lineIdx++,a.includes("#")||(a=a.split(" ")).length<2||(t=parseFloat(a[0]),a=parseFloat(a[1]),isNaN(t))||isNaN(a)?"ignore":thrProcPoint(e,[t,a]))}function textFileSimulate(){let e=[];try{var t=document.getElementById("textcontents").value;0<t.length&&(e=t.split(/[\r\n]+/))}catch(e){return console.log("Failed to get textcontents - probably exited edit mode"),"No longer in edit mode"}0!==e.length&&(window.stState.textFileContext={fileType:window.stState.curFileType,lineIdx:0,interpolateIdx:0,lines:e,stop:!1,x:0,y:0},extractTableSize(window.stState.textFileContext),tableShowStart(window.stState.textFileContext),window.stState.interpIteration=0,textFileStep())}function textFileStep(){var t=window.stState.textFileContext;for(let e=0;e<window.stState.maxIterationsInEval;e++){let e="";if(0<(e=("gcode"===t.fileType?gcodeEvalService:thrEvalService)(t)).length){if("ignore"===e||"invalid"===e)continue;return void console.log("Res too short")}if(tableShowNextPoint(t),window.stState.interpIteration++,window.stState.interpIteration>=window.stState.maxIterationsInTotal)return void console.log("Max Iter");if(t.stop)return void console.log("Stop req")}console.log("Req TS"),setTimeout(textFileStep,window.stState.patternEvalIntervalMs)}function tableShowStart(e){var t=document.getElementById("table-canvas"),a=t.getContext("2d");a.closePath(),a.clearRect(0,0,t.width,t.height),window.stState.tableCanvasPtIsValid=!1,a.strokeStyle="#407ea6",a.lineWidth=10,window.pageState.robotGeom&&"SingleArmScara"!==window.pageState.robotGeom||(a.beginPath(),e.x=0,e.y=0,t=getCanvasXY(t,e),a.arc(t[0],t[1],window.stState.canvasSize/2,0,2*Math.PI),a.stroke(),a.closePath()),a.strokeStyle="#e3cda6",a.lineWidth=1,a.beginPath()}function tableShowNextPoint(e){var t,a=document.getElementById("table-canvas");a&&(t=a.getContext("2d"),a=getCanvasXY(a,e),window.stState.tableCanvasPtIsValid?(t.lineTo(a[0],a[1]),t.stroke()):t.moveTo(a[0],a[1]),window.stState.tableCanvasPtIsValid=!0)}function getCanvasXY(e,t){return[(t.x+t.originX)/t.sizeX*window.stState.canvasSize+window.stState.canvasBorder,e.height-((t.y+t.originY)/t.sizeY*window.stState.canvasSize+window.stState.canvasBorder)]}function callAjax(e,t,a){const n=new XMLHttpRequest;n.onreadystatechange=function(){4===n.readyState&&(200===n.status?t(n.responseText):void 0!==a&&a(n))},n.open("GET",escape(e),!0),n.send()}function ajaxDefaultCallback(){}function postJson(e,t,a,n){const o=new XMLHttpRequest;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?void 0!==a&&a(o.responseText):void 0!==n&&n(o))},o.open("POST",e),o.setRequestHeader("Content-Type","application/json"),o.send(t)}let logoCanvasWidth=100,logoCanvasHeight=100;function iconGen(e){let t,a,n,o;var i=logoCanvasWidth/2,s=logoCanvasHeight/2;var l,r,d,c=document.getElementById(e).getContext("2d");c.beginPath(),c.lineWidth=2,t=0,o=!1;let u=0;for(;!(o||(r=d=r=l=void 0,l=2*t*Math.PI*1.03/200,r=Math.sin(20*t*2*Math.PI/200),d=180+-13*t/200,r=d+10*r*(1-.6*(1-(d-Math.min(180,10))/Math.abs(170))),a=r*Math.sin(l)*logoCanvasWidth/400,n=r*Math.cos(l)*logoCanvasHeight/400,t+=1,o=d>Math.max(180,10)||d<Math.min(180,10),0===u?c.moveTo(i+a,s+n):c.lineTo(i+a,s+n),1e4<u));)u++;c.strokeStyle="#e0e0e0",c.stroke()}function setupSelect(t){var a=document.getElementsByClassName("select-style");for(let e=0;e<a.length;e++)if(0!==(selEl=a[e].getElementsByTagName("select")[0]).options.length){var o=document.createElement("div"),s=(o.setAttribute("class","select-selected"),o.innerHTML=selEl.options[selEl.selectedIndex].innerHTML,a[e].appendChild(o),document.createElement("div"));s.setAttribute("class","select-items select-hide");for(let e=0;e<selEl.length;e++){var l=document.createElement("div");l.innerHTML=selEl.options[e].innerHTML,l.addEventListener("click",function(e){var t=this.parentNode.parentNode.getElementsByTagName("select")[0],a=this.parentNode.previousSibling;for(let e=0;e<t.length;e++)if(t.options[e].innerHTML==this.innerHTML){t.selectedIndex=e,a.innerHTML=this.innerHTML;var o=this.parentNode.getElementsByClassName("same-as-selected");for(n=0;n<o.length;n++)o[n].removeAttribute("class");this.setAttribute("class","same-as-selected");break}a.click()}),s.appendChild(l),e==selEl.length-1&&l.setAttribute("class","select-last-option")}a[e].appendChild(s),o.addEventListener("click",function(e){e.stopPropagation(),r(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active"),t()})}function r(t){var a=[],e=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected");for(let e=0;e<n.length;e++)t==n[e]?a.push(e):n[e].classList.remove("select-arrow-active");for(i=0;i<e.length;i++)a.indexOf(i)&&e[i].classList.add("select-hide")}0<a.length&&document.addEventListener("click",r)}</script>
	<style>body{font-family:Century Gothic,sans-serif;line-height:1.4em;font-size:14pt;background-color:#e3cda6;color:silver;margin:0}.noselect{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.page-header{padding-top:20px;padding-bottom:20px;background-color:#e3cda6;width:100%;font-size:1.5em;color:#f0f0f0;text-align:center}.page-header-text{margin-top:10px;font-family:Copperplate,Copperplate Gothic Light,sans-serif}.page-logo{border:none}.body-commands{width:80%;margin-right:auto;padding-top:20px;padding-bottom:20px;display:flex;justify-content:space-evenly;list-style-type:none}.body-commands-button{font-size:1.2em;color:#fafcee;cursor:pointer}.body-part-buttons{flex-grow:1}.body-part-status{flex-grow:.2}.body-sep{flex-grow:.01;background-color:#407ea6}.body-controls{display:flex}.body-group{background:-webkit-linear-gradient(top,#b9a888 0,#c9b693 10px,#e3cda6 100%)}.body-group-header{font-family:Copperplate,Copperplate Gothic Light,sans-serif;margin-left:20px;padding-top:20px;color:#64523c;font-size:1.2em}.body-group-button{color:#64523c;text-decoration:none;cursor:pointer}.body-group-button-icon{cursor:pointer}.body-group-actions{margin-right:20px;float:right;color:#64523c;font-weight:700}.body-group-select{float:left}.body-group-info{display:inline;font-size:1.2em}.body-name{padding:10px;background-color:#303030;width:100%;font-size:1.5em;color:#fff}.body-form{display:block;clear:both}.body-form-2-col{display:flex}.body-form-col{flex:50%}.body-form-colsep{width:15px}.body-form-line{padding:5px}.body-form-label{color:#64523c;font-weight:700;display:flex;justify-content:space-between}.body-form-field{width:100%;background:#a89062;color:#fff;border:none;font-size:14pt}textarea.body-form-field{box-sizing:border-box;height:100%}.body-form-label-container{margin-bottom:12px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.body-form-label-checkbox{display:block;position:relative;padding-left:35px;margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.body-form-label-checkbox input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.body-form-checkmark{position:absolute;top:0;left:0;height:25px;width:25px;background-color:#eee}.body-form-label-checkbox:hover input~.body-form-checkmark{background-color:#74b5b1}.body-form-label-checkbox input:checked~.body-form-checkmark{background-color:#407ea6}.body-form-checkmark:after{content:"";position:absolute;display:none}.body-form-label-checkbox input:checked~.body-form-checkmark:after{display:block}.body-form-label-checkbox .body-form-checkmark:after{left:9px;top:5px;width:5px;height:10px;border:solid #fff;border-width:0 3px 3px 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}.body-view{width:100%;background-color:#a89062;display:flex}.body-canvas{margin:20px auto}.body-fieldset{border:none}.body-list{padding:5px;margin-left:auto;margin-right:auto;width:100%;min-height:40px}.body-list-line{display:block;padding:10px;clear:both}.body-list-draggable{background:#407ea6;display:inline-block;padding:4px 8px;font-size:1em;color:#fafcee;border-radius:6px}.body-list-item{display:inline-block;padding:10px;padding-left:20px;font-size:1.2em;color:#fafcee}.body-list-small{padding:5px}.body-list-actions{margin-right:20px;float:right;padding-top:10px}.body-list-filetype{background:#74b5b1;display:inline-block;padding:3px 6px;font-size:.8em;color:#fafcee;border-radius:6px;line-height:1.2em;min-width:5em;text-align:center}.body-list-item span{color:#fafcee}.body-list-edit span{color:#fafcee}.body-list-button{color:#94f3ff;cursor:pointer}.body-status-box{color:#d5354e}.body-config{padding:20px;margin-top:30px;width:100%;font-size:1.5em;color:#f0f0f0}.body-advanced{padding-top:10px;padding-bottom:10px;margin-top:30px;background-color:#202020;width:100%;font-size:1.2em;color:#000;text-align:center}.body-advanced a{text-decoration:none;color:grey}.body-name-edit{font-size:1em}.body-num-edit{font-size:1em}.body-name-edit{font-size:1em}.button-spacing{padding-right:15px}.backHead{background:#407ea6}.backGrad1{background:-webkit-linear-gradient(top,#4e9a8c 0,#70ab9f 10px,#78bfc1 100%)}.backGrad2{background:-webkit-linear-gradient(top,#b49e73 0,#c0a87a 10px,#c0a87a 100%)}.backGrad3{background:-webkit-linear-gradient(top,#b9a888 0,#c9b693 10px,#e3cda6 100%)}.drop-zone.highlight{background:#947e53}.hidden{visibility:hidden}.nodisplay{visibility:hidden}progress{background-color:#fafcee;border-color:#fafcee;border-radius:5px;color:#407ea6}progress::-webkit-progress-bar{background-color:#407ea6;border-color:#fafcee;border-radius:5px}progress::-moz-progress-bar{background-color:#407ea6;border-radius:5px;border-color:#fafcee}progress::-webkit-progress-value{background-color:#407ea6;border-radius:5px;border-color:#fafcee}.icon-toolbar{color:#fafcee;fill:#fafcee;width:48px;height:48px;vertical-align:middle}.icon-action{color:#fafcee;fill:#fafcee;width:32px;height:32px;vertical-align:middle;padding-left:15px}.icon-inline{color:#fafcee;fill:#fafcee;width:32px;height:32px;vertical-align:middle}.right{float:right}.icon-red{fill:#d5354e;color:#d5354e}.warning{color:#d5354e}.select-style{position:relative;width:15rem}.select-style select{display:none}.select-selected{background-color:#a89062}.select-selected:after{position:absolute;content:"";top:14px;right:10px;width:0;height:0;border:6px solid transparent;border-color:#64523c transparent transparent transparent}.select-selected.select-arrow-active:after{border-color:transparent transparent #64523c transparent;top:7px}.select-items div,.select-selected{padding:8px;border:1px solid transparent;border-color:transparent transparent rgba(0,0,0,.1) transparent;cursor:pointer;user-select:none}.select-selected.select-arrow-active{border-bottom-left-radius:0;border-bottom-right-radius:0}.select-last-option{border-bottom-left-radius:5px;border-bottom-right-radius:5px}.select-items{position:absolute;background-color:#aa8649;top:100%;left:0;right:0;z-index:99;border-bottom-left-radius:5px;border-bottom-right-radius:5px}.select-hide{display:none}.same-as-selected,.select-items div:hover{background-color:rgba(0,0,0,.1)}</style>
</head>
<body onload="bodyIsLoaded()" class="noselect">

	<div>
		<div id="pageHeader"></div>
		<div id="pageBodyHead"></div>
		<div id="pageBodyForm"></div>
	</div>
	<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xml:space="preserve">

	<symbol id="ico-stop" viewBox="0 0 191 191">
		<g>
			<path d="M158.912,0H31.782C14.239,0,0,14.239,0,31.782v127.13c0,17.544,14.239,31.782,31.782,31.782
			h127.13c17.544,0,31.782-14.239,31.782-31.782V31.782C190.695,14.239,176.456,0,158.912,0z"></path>
		</g>
	</symbol>
	<symbol id="ico-pause" viewBox="0 0 46 46">
		<g>
			<path d="M13.987,0c-2.762,0-5,2.239-5,5v35.975c0,2.763,2.238,5,5,5s5-2.238,5-5V5C18.987,2.238,16.75,0,13.987,0z"/>
			<path d="M31.987,0c-2.762,0-5,2.239-5,5v35.975c0,2.762,2.238,5,5,5s5-2.238,5-5V5C36.987,2.239,34.749,0,31.987,0z" stroke-width="0"/>
		</g>
	</symbol>
	<symbol id="ico-play" viewBox="0 0 233 233">
		<g>
			<path d="M203.791,99.628L49.307,2.294c-4.567-2.719-10.238-2.266-14.521-2.266
			c-17.132,0-17.056,13.227-17.056,16.578v198.94c0,2.833-0.075,16.579,17.056,16.579c4.283,0,9.955,0.451,14.521-2.267
			l154.483-97.333c12.68-7.545,10.489-16.449,10.489-16.449S216.471,107.172,203.791,99.628z" stroke-width="0"/>
		</g>
	</symbol>
	<symbol id="ico-playpause" viewBox="0 0 46 46">
		<g>
			<path d="M9.629,44.68 c -1.154,1.16 -2.895,1.51 -4.407,0.885 -1.513,-0.623 -2.5,-2.1 -2.5,-3.735 V 4.043 
			c 0,-1.637 0.987,-3.112 2.5,-3.736 1.513,-0.625 3.253,-0.275 4.407,0.885 l 17.862,17.951 c 2.088,2.098 2.088,5.488 0,7.585 z"/>
			<path d="M38.252,45.975 c -2.763,0 -5,-2.238 -5,-5 V 5 c 0,-2.762 2.237,-5 5,-5 2.762,0 5,2.238 5,5 v 35.975 
			c 0,2.761 -2.239,5 -5,5 z"/>
		</g>
	</symbol>
	<symbol id="ico-delete" viewBox="0 0 26 26">
		<g>
			<path d="M 11 -0.03125 C 10.164063 -0.03125 9.34375 0.132813 8.75 0.71875 C 8.15625 1.304688 7.96875 2.136719 7.96875 3 L 4 3 C 3.449219 3 3 3.449219 3 4 L 2 4 L 2 6 L 24 6 L 24 4 L 23 4 C 23 3.449219 22.550781 3 22 3 L 18.03125 3 C 18.03125 2.136719 17.84375 1.304688 17.25 0.71875 C 16.65625 0.132813 15.835938 -0.03125 15 -0.03125 Z M 11 2.03125 L 15 2.03125 C 15.546875 2.03125 15.71875 2.160156 15.78125 2.21875 C 15.84375 2.277344 15.96875 2.441406 15.96875 3 L 10.03125 3 C 10.03125 2.441406 10.15625 2.277344 10.21875 2.21875 C 10.28125 2.160156 10.453125 2.03125 11 2.03125 Z M 4 7 L 4 23 C 4 24.652344 5.347656 26 7 26 L 19 26 C 20.652344 26 22 24.652344 22 23 L 22 7 Z M 8 10 L 10 10 L 10 22 L 8 22 Z M 12 10 L 14 10 L 14 22 L 12 22 Z M 16 10 L 18 10 L 18 22 L 16 22 Z " stroke-width="0"/>
		</g>
	</symbol>
	<symbol id="ico-centre" viewBox="0 0 50 50">
		<g>
			<path d="M 46.774547,24.573656 A 21.166666,21.166666 0 0 1 25.607885,45.740326 21.166666,21.166666 0 0 1 4.4412196,24.573656 21.166666,21.166666 0 0 1 25.607885,3.4069957 21.166666,21.166666 0 0 1 46.774547,24.573656 Z" fill="none" stroke-width="6" stroke="#fafcee"/>
			<path d="m 22.013375,20.560576 7.843099,8.12036" fill="none" stroke-width="4" stroke="#fafcee"/>
			<path d="m 22.177493,28.743986 7.616455,-8.3333" fill="none" stroke-width="4" stroke="#fafcee"/>
	   </g>
	</symbol>
	<symbol id="ico-run-at-start" viewBox="100 50 120 150">
		<g>
			<path d="m 200,200 c -4.35878,-1.14794 -5.49015,-3.7954 -8.2485,-19.30195 -2.19682,-12.34983 -2.66103,-13.64007 -9.28184,-25.7981 -3.83316,-7.03896 -7.18705,-12.58042 -7.45311,-12.31436 -0.26606,0.26605 -2.15305,7.1502 -4.19333,15.2981 l -3.70958,14.81436 -20.7132,0.27036 -20.7132,0.27037 -2.47491,-2.47491 c -4.35871,-4.35871 -2.78064,-9.77311 3.35866,-11.52363 1.83347,-0.52278 8.80395,-0.87661 15.48997,-0.78629 12.1092,0.16358 12.15924,0.15467 12.89213,-2.29584 0.40466,-1.35303 1.67163,-10.88581 2.81549,-21.18394 l 2.07975,-18.72388 8.11439,-13.11213 c 6.12254,-9.89348 7.79116,-13.3119 6.79762,-13.92595 -1.06027,-0.65528 -17.26314,-4.01416 -19.36388,-4.01416 -0.30487,0 -2.64213,3.83018 -5.19393,8.51152 -2.5518,4.68133 -5.51736,8.98126 -6.59014,9.5554 -2.82117,1.50984 -5.76682,0.2119 -6.5442,-2.88357 -0.53306,-2.12261 0.66803,-5.26676 5.74768,-15.04598 3.53185,-6.79944 6.9994,-12.59097 7.70565,-12.87007 2.27529,-0.89915 31.55607,4.80241 35.55298,6.92288 5.16148,2.7383 6.30561,1.46922 4.21825,-4.67895 -2.03972,-6.00785 -1.21221,-10.69349 2.66925,-15.11423 5.82929,-6.6392 15.76006,-6.59533 21.63475,0.0956 7.32702,8.34502 3.71469,20.54186 -6.99172,23.60714 -7.83845,2.24417 -8.53147,3.69756 -3.41948,7.17125 1.89647,1.28869 7.06225,6.86646 11.47951,12.39506 8.0213,10.03937 8.03902,10.05362 14.10508,11.34092 9.99138,2.12032 13.92644,7.00804 8.50304,10.56158 -2.27585,1.4912 -3.09767,1.47917 -10.75,-0.15729 l -8.28576,-1.77192 -9.08037,-9.49703 -9.08038,-9.49702 -6.12185,11.12076 -6.12184,11.12076 7.4305,17.24009 c 6.86365,15.92488 7.67298,18.5563 10.60883,34.49313 2.95722,16.05285 3.06756,17.42208 1.58612,19.68305 -1.93692,2.95611 -4.19231,3.62242 -8.45843,2.4989 z"/>
		</g>
	</symbol>
	<symbol id="ico-edit" viewBox="0 0 530 530">
		<g>
			<path d="M328.883,89.125l107.59,107.589l-272.34,272.34L56.604,361.465L328.883,89.125z M518.113,63.177l-47.981-47.981   c-18.543-18.543-48.653-18.543-67.259,0l-45.961,45.961l107.59,107.59l53.611-53.611   C532.495,100.753,532.495,77.559,518.113,63.177z M0.3,512.69c-1.958,8.812,5.998,16.708,14.811,14.565l119.891-29.069 L27.473,390.597L0.3,512.69z"/>
		</g>
	</symbol>
	<symbol id="ico-add" viewBox="170 60 200 150">
		<g>
			<path d="m 250,50 0,150 m 75,-75 -150,0" style="fill:none;stroke:#fafcee;stroke-width:22;stroke-linecap:round"/>
		</g>
	</symbol>
	<symbol id="ico-spiral-out" viewBox="0 0 60 60">
		<g>
			<path d="M 16.626269 37.930484 C 11.069585 32.169257 10.915446 22.769927 16.059324 16.546608 C 22.25908 9.045835 33.691208 8.4231682 41.048731 14.576272 C 49.216975 21.407384 49.873432 33.92053 43.093219 41.949154" style="fill:none;stroke:#fafcee;stroke-width:4;stroke-linecap:round"/>
			<path d="M 22.672616 34.307554 C 22.639635 34.284406 22.606813 34.260983 22.574152 34.237287 C 18.40035 31.209074 17.947519 25.158834 20.974577 21.165253 C 24.640751 16.328491 31.761797 15.841432 36.430086 19.491526 C 41.026781 23.085641 42.14651 29.39851 39.896968 34.493598" style="fill:none;stroke:#fafcee;stroke-width:4;stroke-linecap:round"/>
			<path d="M 25.611669 27.084562 C 25.609686 26.626495 25.705996 26.168258 25.889831 25.783897 C 26.947985 23.571521 29.863752 23.225486 31.811441 24.40678 C 34.669754 26.140375 35.052573 30.075688 33.262712 32.711864 C 33.068275 32.998237 32.856564 33.264048 32.629889 33.509443" style="fill:none;stroke:#fafcee;stroke-width:4;stroke-linecap:round"/>
			<path d="M 29.555087,29.286207 V 39.725063" style="fill:none;stroke:#fafcee;stroke-width:4;stroke-linecap:round"/>
			<path d="m 20.142972,38.256665 18.734462,0.08233 -9.209931,9.755171 z" style="fill:#fafcee;fill-opacity:1;stroke:#fafcee;stroke-width:2.5;stroke-linecap:round"/>
		</g>
	</symbol>
	<symbol id="ico-broken" viewBox="-1 -1 55 55">
		<g>
			<path d="M24.008,13.401L33.2,4.208 c4.278-4.278,11.278-4.278,15.556,0l0,0c4.278,4.278,4.278,11.278,0,15.556L36.735,31.786c-4.278,4.278-11.278,4.278-15.556,0l0,0" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="M27.543,40.978l-7.778,7.778 c-4.278,4.278-11.278,4.278-15.556,0l0,0c-4.278-4.278-4.278-11.278,0-15.556l11.314-11.314c4.278-4.278,11.278-4.278,15.556,0l0,0" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="m 33.965,45 v 6" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="m 37.722,43 4.243,4.243" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="m 38.965,39 h 6" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="M 15.965,10 V 4" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="M 12.207,12 7.9650002,7.757" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
			<path d="M 10.965,16 H 4.9650002" style="fill:none;stroke:#d5354e;stroke-width:4;stroke-linecap:round;stroke-miterlimit:10"/>
		</g>
	</symbol>

</svg>
</body>
</html>
